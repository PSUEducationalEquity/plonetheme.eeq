[buildout]
parts +=
    npm-install
    theme-compile

extensions = mr.developer
always-checkout = force
update-git-submodules = always
sources-dir = checkouts
auto-checkout +=
    jazkarta.tesserae

parts +=
    npm-install
    theme-compile

eggs +=
    Products.PloneHotfix20210518

[theme]
name = plonetheme.eeq
package_path = ${buildout:directory}
path = ${theme:package_path}/src/plonetheme/eeq/theme

[npm-install]
recipe = collective.recipe.cmd
on_install = true
on_update = false
cmds =
    cd ${theme:package_path}
    NODE_PATH="" npm_config_cache="" npm install
    cd ${theme:path}
    NODE_PATH="" npm_config_cache="" npm install

[theme-compile]
recipe = collective.recipe.cmd
on_install = true
on_update = true
cmds =
    cd ${theme:package_path}
    NODE_PATH="" npm_config_cache="" npm update
    NODE_PATH="" npm_config_cache="" npm run compile
    cd ${theme:path}
    NODE_PATH="" npm_config_cache="" npm update


[sources]
jazkarta.tesserae = git https://github.com/jazkarta/jazkarta.tesserae.git

[versions]
Products.PloneHotfix20210518 = 1.3
plone.app.imagecropping = 2.2.2
five.pt = 3.0

createcoverage = 1.5
collective.themefragments = 2.12
plone.app.themingplugins = 1.1
